<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Desaf√≠o Avanzado</title>
<link href="https://fonts.googleapis.com/css2?family=Agbalumo&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: #eefaf2;
  font-family: Arial, sans-serif;
}

.card {
  background: white;
  padding: 40px;
  border-radius: 25px;
  width: 90%;
  max-width: 560px;
  text-align: center;
  box-shadow: 0 15px 30px rgba(0,0,0,0.15);
}

h1 {
  font-family: 'Agbalumo', cursive;
  color: #27ae60;
}

.nivel {
  font-weight: bold;
  margin-bottom: 10px;
}

.timer {
  font-size: 18px;
  color: #e74c3c;
  margin-bottom: 15px;
}

button {
  width: 100%;
  padding: 14px;
  margin: 8px 0;
  border: none;
  border-radius: 30px;
  font-size: 16px;
  cursor: pointer;
  background: #2ecc71;
  color: white;
}

button:hover {
  opacity: 0.9;
}

.fim {
  display: none;
}
</style>
</head>

<body>

<div class="card">
  <h1>Desaf√≠o Avanzado</h1>

  <p class="nivel" id="nivel"></p>
  <p class="timer" id="timer"></p>
  <p id="pergunta"></p>

  <div id="opcoes"></div>

  <p id="acertos"></p>

  <div class="fim" id="fim">
    <h2>Juego terminado</h2>
    <p id="resumo"></p>
    <a href="home_page.html">
      <button>Volver a la Home</button>
    </a>
  </div>
</div>

<script>
// üîÄ Fun√ß√£o para embaralhar alternativas
function embaralhar(array) {
  return array.sort(() => Math.random() - 0.5);
}

// üìö Perguntas
const perguntas = {
  facil: [
    {q:"Azul em espanhol?",o:["Azul","Rojo","Verde","Negro"],c:"Azul"},
    {q:"Av√≥ em espanhol?",o:["Abuela","Madre","T√≠a","Suegra"],c:"Abuela"},
    {q:"Quinta-feira em espanhol?",o:["Jueves","Viernes","Martes","Lunes"],c:"Jueves"},
    {q:"M√£o em espanhol?",o:["Mano","Brazo","Pie","Cabeza"],c:"Mano"}
  ],
  medio: [
    {q:"Cotovelo em espanhol?",o:["Codo","Rodilla","Mu√±eca","Hombro"],c:"Codo"},
    {q:"Genro em espanhol?",o:["Yerno","Cu√±ado","Nieto","Primo"],c:"Yerno"},
    {q:"Sexta-feira em espanhol?",o:["Viernes","S√°bado","Jueves","Domingo"],c:"Viernes"},
    {q:"Pesco√ßo em espanhol?",o:["Cuello","Espalda","Cabeza","Pecho"],c:"Cuello"}
  ],
  dificil: [
    {q:"Enteado em espanhol?",o:["Hijastro","Sobrino","Nieto","Cu√±ado"],c:"Hijastro"},
    {q:"Tornozelo em espanhol?",o:["Tobillo","Tal√≥n","Rodilla","Pie"],c:"Tobillo"},
    {q:"Sobrancelha em espanhol?",o:["Ceja","Pesta√±a","Nariz","Ojo"],c:"Ceja"},
    {q:"Antebra√ßo em espanhol?",o:["Antebrazo","Brazo","Mu√±eca","Codo"],c:"Antebrazo"}
  ]
};

let nivel = "facil";
let index = 0;
let acertos = 0;
let tempo = 15;
let cronometro;

// ‚è± Tempo por n√≠vel
function tempoNivel() {
  return nivel === "facil" ? 15 : nivel === "medio" ? 12 : 10;
}

// ‚ñ∂ Mostrar pergunta
function mostrar() {
  clearInterval(cronometro);
  tempo = tempoNivel();

  document.getElementById("nivel").textContent =
    "Nivel: " + nivel.toUpperCase();
  document.getElementById("acertos").textContent =
    "Aciertos: " + acertos;

  const p = perguntas[nivel][index];
  document.getElementById("pergunta").textContent = p.q;

  const op = document.getElementById("opcoes");
  op.innerHTML = "";

  // üîÄ alternativas embaralhadas
  embaralhar([...p.o]).forEach(r => {
    const b = document.createElement("button");
    b.textContent = r;
    b.onclick = () => responder(r);
    op.appendChild(b);
  });

  document.getElementById("timer").textContent =
    "‚è± Tiempo: " + tempo + "s";

  cronometro = setInterval(() => {
    tempo--;
    document.getElementById("timer").textContent =
      "‚è± Tiempo: " + tempo + "s";
    if (tempo === 0) fim();
  }, 1000);
}

// ‚úî Responder
function responder(resp) {
  if (resp === perguntas[nivel][index].c) {
    acertos++;
    index++;

    if (index >= perguntas[nivel].length) {
      index = 0;
      nivel = nivel === "facil" ? "medio" :
              nivel === "medio" ? "dificil" : "fim";
      if (nivel === "fim") { fim(); return; }
    }
    mostrar();
  } else {
    fim();
  }
}

// ‚ùå Fim de jogo
function fim() {
  clearInterval(cronometro);

  let nivelTxt = nivel === "facil" ? "F√°cil" :
                 nivel === "medio" ? "Intermedi√°rio" : "Dif√≠cil";
  let pirulitos = nivel === "facil" ? "üç≠" :
                  nivel === "medio" ? "üç≠üç≠" : "üç≠üç≠üç≠";

  document.getElementById("resumo").innerHTML = `
    Total de acertos: <b>${acertos}</b><br>
    N√≠vel alcan√ßado: <b>${nivelTxt}</b><br>
    Recompensa: <b>${pirulitos}</b>
  `;

  document.getElementById("opcoes").style.display = "none";
  document.getElementById("nivel").style.display = "none";
  document.getElementById("pergunta").style.display = "none";
  document.getElementById("acertos").style.display = "none";
  document.getElementById("timer").style.display = "none";
  document.getElementById("fim").style.display = "block";
}

mostrar();
</script>

</body>
</html>
